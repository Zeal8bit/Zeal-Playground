<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Zeal 8-bit Playground</title>
    <link rel="icon" href="imgs/zeal.png" sizes="16x16" />

    <!-- CodeMirror (from CSDN CDN) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/theme/solarized.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" />
    <link rel="stylesheet" href="css/playground.css" />
    <link rel="stylesheet" href="css/explorer.css" />
    <link rel="stylesheet" href="css/editor.css" />
    <link rel="stylesheet" href="css/emulator.css" />

    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/mode/z80/z80.min.js"></script>

    <script src="js/asm.js"></script>
  </head>
  <body>
    <div id="topbar"><img class="logo" src="imgs/zeal.png" /> Zeal 8-bit Computer Playground</div>

    <div id="viewport">
      <details id="explorer" class="side-panel" open>
        <summary class="panel-heading">
          <icon class="btn fa-solid fa-left-right" open-target="explorer"></icon>
          <strong>EXPLORER</strong>
        </summary>
        <div class="contents">
          <div class="controls border-t border-b margin-b align-right">
            <button class="new-file">New File</button>
          </div>
          <div class="files"></div>
        </div>
      </details>

      <div id="editor" class="border-l border-r">
        <div class="file-tab">
          <span class="filename">main.asm</span>
          <icon class="fa-solid fa-save"></icon>
        </div>
        <textarea name="content"></textarea>

        <div class="controls border-t align-right">
          <button class="btn" onclick="assemble()"><icon class="fa-solid fa-code"></icon>Assemble</button>
          <button class="btn" onclick="code_run()"><icon class="fa-solid fa-play"></icon>Run</button>
        </div>
      </div>
      <div class="resize-column"></div>

      <div id="emulator" class="padding">
        <div id="canvas-container">
          <canvas id="canvas" tabindex="0" width="640" height="480"></canvas>
        </div>
        <div class="controls border-t margin-t hidden">
          <button class="btn toggle-fps">Toggle FPS</button>
          <button class="btn code-stop"><icon class="fa-solid fa-stop"></icon>Stop</button>
        </div>
      </div>

      <div id="preferences" class="side-panel">
        <div class="panel-heading">
          <icon class="btn fa-solid fa-asterisk" open-target="explorer"></icon>
          <strong>Preferences</strong>
        </div>
        <div class="controls">
          <button class="prefs-reset" onclick="prefs_reset_layout()">Reset Layout</button>
        </div>
      </div>
      <div id="assembler">
        <div class="log" id="log">Ready to assemble...</div>
        <div id="hex-view">Hex view will appear here.</div>
      </div>
      <div></div>
    </div>

    <script src="js/playground.js"></script>
    <script src="js/explorer.js"></script>
    <script src="js/editor.js"></script>
    <script src="js/emulator.js"></script>

    <script src="native/zeal.elf.js"></script>
  </body>
</html>
